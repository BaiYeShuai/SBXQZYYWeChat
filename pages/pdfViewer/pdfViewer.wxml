<!-- pages/pdfViewer/pdfViewer.wxml -->
<view class="container">
  <!-- 仅保留一层导航栏（解决标题重复问题） -->
  <view class="navbar">
    <view class="back-btn" bindtap="goBack">
      <text class="back-icon">←</text>
    </view>
    <view class="navbar-title">报告详情</view>
    <view class="menu-btn" bindtap="showMenu">
      <text class="menu-icon">...</text>
    </view>
  </view>

  <!-- 内容区域（占满剩余屏幕，解决空白问题） -->
  <view class="content">
    <!-- 加载状态 -->
    <view class="loading-state" wx:if="{{loading && !showProgress && !error}}">
      <view class="spinner"></view>
      <text class="loading-text">正在加载报告...</text>
    </view>

    <!-- 下载进度 -->
    <view class="progress-state" wx:if="{{showProgress && !error}}">
      <text class="progress-text">加载进度：{{progress || 0}}%</text>
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{progress || 0}}%"></view>
      </view>
      <text class="progress-hint">请稍候，报告加载中...</text>
    </view>

    <!-- 错误状态 -->
    <view class="error-state" wx:if="{{error}}">
      <view class="error-icon">!</view>
      <text class="error-text">{{errorMsg || '加载失败，请重试'}}</text>
      <button class="retry-btn" bindtap="reloadReport">重新加载</button>
    </view>
  </view>
</view>
    